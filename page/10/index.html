<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>hex55</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="hex55">
<meta property="og:url" content="http://hex55.com/page/10/index.html">
<meta property="og:site_name" content="hex55">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="hex55">
  
    <link rel="alternative" href="/atom.xml" title="hex55" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: false,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img src="/img/head.jpg" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/">shawge</a></h1>
        </hgroup>

        
        <p class="header-subtitle">shawge的电子技术分享</p>
        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">博客首页</a></li>
                        
                            <li><a href="/categories/MCU-ARM/">MCU/ARM</a></li>
                        
                            <li><a href="/categories/FPGA/">FPGA</a></li>
                        
                            <li><a href="/categories/windows-linux/">WINDOWS/LINUX</a></li>
                        
                            <li><a href="/categories/硬件设计/">硬件设计</a></li>
                        
                            <li><a href="/archives/">归档</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=27O_o_7um6qq9bi0tg" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/hex55" title="github">github</a>
                            
                                <a class="fl rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/github-提速/" style="font-size: 10px;">github 提速</a>
                    </div>
                </section>
                
                
                

                
                
                <section class="switch-part switch-part3">
                
                    <div id="js-aboutme">没想好。。。</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">shawge</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img src="/img/head.jpg" class="js-avatar" style="width: 100%; height: 100%; opacity: 1;">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">shawge</a></h1>
            </hgroup>
            
            <p class="header-subtitle">shawge的电子技术分享</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">博客首页</a></li>
                
                    <li><a href="/categories/MCU-ARM/">MCU/ARM</a></li>
                
                    <li><a href="/categories/FPGA/">FPGA</a></li>
                
                    <li><a href="/categories/windows-linux/">WINDOWS/LINUX</a></li>
                
                    <li><a href="/categories/硬件设计/">硬件设计</a></li>
                
                    <li><a href="/archives/">归档</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=27O_o_7um6qq9bi0tg" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/hex55" title="github">github</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-quartus-e5-92-8c-modelsim-e4-b8-ad-e7-9a-84-e6-b3-a8-e6-84-8f-e4-ba-8b-e9-a1-b9" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/02/quartus-e5-92-8c-modelsim-e4-b8-ad-e7-9a-84-e6-b3-a8-e6-84-8f-e4-ba-8b-e9-a1-b9/" class="article-date">
      <time datetime="2015-07-02T09:21:48.000Z" itemprop="datePublished">2015-07-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/02/quartus-e5-92-8c-modelsim-e4-b8-ad-e7-9a-84-e6-b3-a8-e6-84-8f-e4-ba-8b-e9-a1-b9/">quartus 和 modelsim中的注意事项</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<ol>
<li><p>在<code>《The IEEE Verilog 1364-2001 Standard》</code>标准中，允许只有1bit的wire型变量不需要事先声明直接使用。如下代码在quartus中以verilog 2001编译不会报错，但是在modesim中就会报错。<br>即在quartus中你可以如下写:</p>
<p>assign wSignal = 1’b1; //不必事先声明<br>`</p>
<p>在modelsim中你该改为这样（为了兼容和适应不同版本的EDA工具，同时为了更好的可阅读性，我们建议以下面这种方式书写）：</p>
<pre>`wire wSignal; //当然也可以在这里直接附值
assign wSignal = 1'b1;
`</pre>

<p>在quartus中启用verilog-2001标准的操作步骤：<br><strong>Assignments-&gt;settings-&gt;Analysis &amp; Synthesis Settings -&gt; Verilog HDL Input</strong><br><img src="/uploads/2015/06/qii_verilog.png" alt=""><br>在modelsim中启用verilog-2001标准的操作步骤：<br><strong>在modelsim主窗口中：Complie-&gt;Verilog &amp; SystemVerilog中的Language Syntax</strong><br><img src="/uploads/2015/06/model_verilog.png" alt=""><br>2. 在modelsim和quartus中，如果你将本模块的的输入端口连接到该模块子模块的输出端口,都不会报错(如下)，</p>
<pre>`module A
(
...
done,
....
)
input done;//此处误将输出信号写成了输入信号
///////
moudelB u_B
(
...
.done(done),
...
);
endmodule
`</pre>

<p>也就是说如果你在代码中误将本模块的输出型端口定义成了输入型，那么当你对这个端口进行附值时，modelsim和quartus都是不会报错的（当然会在调用该模块的顶层模块中产生警告）。<br>3. 在verilog代码中，你的组合逻辑如果以always段书写，但没有写敏感表，<br><code>always  data = dataIn;</code><br>modelsim仿真时会一直卡在那里，出现“A time value could not be extracted from the current line”,而无论quartus或者modelsim编译的时候都不会对这个产生错误或者警告。<br>4. 对于用于标记的信号Flag，应该采用时钟打一拍，而不是采用这种直接组合逻辑的写法，<br><code>assign    doneSdrInit = (init_timer == INIT_PER+202) ? 1&#39;b1 : 1&#39;b0; //tMRD</code><br>上面的写法初看没有问题，但是由于信号未与时钟对齐，在某些情况下就会出现仿真和SignalTap捕获到结果不一致的问题，<br><img src="/uploads/2015/06/doneSdr1.png" alt=""><br>图中的doneSdrInit在仿真中信号是在clk的上升沿设为高（符合设计初衷），clk只能在下一个时钟采样到该信号为高。<br>而在SignalTap中我们看到的结果去是这样的，clk可以就在当前时钟捕获到doneInitSdr。<br><img src="/uploads/2015/06/doneSdr2.png" alt=""><br>造成这种不一致的是因为在实际综合后doneInitSdr就是一个组合逻辑，其结果与它所依赖的信号时时相关即刻反应，而仿真是以clk为时钟信号去离散模拟的，尽管实际上doneInitSdr早已为高。因而改为下面这种形式。</p>
<p><pre>`always @(posedge CLK, negedge RESET_N)<br>begin</pre></p>
<pre><code>if(!RESET_N)
    doneSdrInit &amp;lt;= 1&apos;b0;
else
    begin
    if(init_timer == INIT_PER+202)
        doneSdrInit &amp;lt;= 1&apos;b1;
    end
</code></pre><p>end</p>
</li>
</ol>
<p>通过系统时钟将doneSdrInit与时钟对齐。<br>5. 未完待续……</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/FPGA/">FPGA</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e6-97-b6-e5-ba-8f-e4-bc-98-e5-8c-96-e4-b9-8b-e7-89-a9-e7-90-86-e7-bb-bc-e5-90-88-e4-bc-98-e5-8c-96" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/01/e6-97-b6-e5-ba-8f-e4-bc-98-e5-8c-96-e4-b9-8b-e7-89-a9-e7-90-86-e7-bb-bc-e5-90-88-e4-bc-98-e5-8c-96/" class="article-date">
      <time datetime="2015-07-01T12:40:06.000Z" itemprop="datePublished">2015-07-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/01/e6-97-b6-e5-ba-8f-e4-bc-98-e5-8c-96-e4-b9-8b-e7-89-a9-e7-90-86-e7-bb-bc-e5-90-88-e4-bc-98-e5-8c-96/">时序优化之物理综合优化</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><a href="/uploads/2015/07/fpga-designer.jpg"><img src="/uploads/2015/07/fpga-designer-213x300.jpg" alt="fpga designer"></a></p>
<p>所谓物理综合优化，其实是EDA功具自身去通过改变器件步局及布线来实现时序收敛，看上去好像比较方便，但实际其存在极大的局限性：</p>
<ol>
<li>这种优化主要针对非代码控制的部分进行优化，举例如你使用了一些三方的IP库，你修改不了他们的代码，因此只能通过改变他们与其它逻辑的位置来实现时序约束。</li>
<li>这种优化是针对器件的，换句话说你可以在A器件上时序收敛了，在B器件上时序未必收敛，哪怕它们是同一厂家的同一系列同一速度等级的器件，只是容量不同而已。换句话说哪怕你同样是在A器件上，也许这次你时序收敛了，但下次也许你对代码稍作修改它就不收敛了，这样你每次修改代码对于下次时序是否收敛，以及能否通过施加其它约束来实现收敛心里是没有底的。</li>
<li>代码中明明是设计上的问题，如层叠级数过多，组合逻辑过于复杂导致的时序收敛问题，由于偷懒采用物理综合优化实现了时序收敛，却掩盖了设计失误，随着后面项目工程升级，代码量增加，以后实现时序收敛的操作空间变小了，给自己或者别人挖坑埋雷。</li>
<li>由于整个代码是软件自动进行的，我们对整个优化和约束过程无法控制，会导致整个工程时序的人为可控性变差。5.  会增加编译时间，好吧对于小工程而言这无所谓，对于好的机器甚至是分布式机器而言这也无所谓，但总归缺乏工程美感吧。</li>
</ol>
<p>综上，不到万不已无法可施，不建议采用物理综合优化。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/FPGA/">FPGA</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e5-85-b3-e4-ba-8e-e6-b5-81-e6-b0-b4-e7-ba-bf-e5-bb-b6-e6-97-b6-e5-85-ac-e5-bc-8f-e7-9a-84-e4-b8-aa-e4-ba-ba-e7-90-86-e8-a7-a3" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/30/e5-85-b3-e4-ba-8e-e6-b5-81-e6-b0-b4-e7-ba-bf-e5-bb-b6-e6-97-b6-e5-85-ac-e5-bc-8f-e7-9a-84-e4-b8-aa-e4-ba-ba-e7-90-86-e8-a7-a3/" class="article-date">
      <time datetime="2015-06-30T12:40:06.000Z" itemprop="datePublished">2015-06-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/30/e5-85-b3-e4-ba-8e-e6-b5-81-e6-b0-b4-e7-ba-bf-e5-bb-b6-e6-97-b6-e5-85-ac-e5-bc-8f-e7-9a-84-e4-b8-aa-e4-ba-ba-e7-90-86-e8-a7-a3/">关于流水线延时公式的个人理解</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<p>不带反馈的组合逻辑展开成流水线结构的优点在很多文章中已经阐述，主要是提高系统的性能，主要的手法是插入寄存器暂存组合逻辑的中间计算结果。但纵观网上文章对流水线性能提升的分析，写得都不显然，当然可能本人太笨。<br>例如以下这样一个组合逻辑，由#1、#2、#3个子逻辑构成，<br><em>图1——原组合逻辑</em><br><img src="/uploads/2015/06/pipel1.png" alt=""><br>插入寄存器保存#1，#3的中间计算结果，展开成两级流水线结构后如下图<br><em>图2——流水线展后后的组合逻辑</em><br><img src="/uploads/2015/06/pipel2.png" alt=""><br>通常的文章中开始分别分析原组合逻辑和流水线展开后的组合逻辑延时。<br><strong>【原组合逻辑延时】</strong></p>
<blockquote>
<p>这个组合逻辑包括两级。<br>  第一级的延迟是T1和T3两个延迟中的最大值；<br>  第二级的延迟等于T2的延迟。<br>  为了通过这个组合逻辑得到稳定的计算结果输出，需要等待的传播延迟为：<br>  <strong>[max(T1,T3)+T2]</strong></p>
</blockquote>
<p><strong>【流水线展开后的组合逻辑延时】</strong></p>
<blockquote>
<p>在从输入到输出的每一级插入寄存器后，流水线设计的第一级寄存器所具有的总的延迟为T1与T3时延中的最大值加上寄存器的Tco（触发时间）。同样，第二级寄存器延迟为T2的时延加上Tco。采用流水线设计为取得稳定的输出总体计算周期为：<br>  <strong>max(max(T1,T3)+Tco,(T2+Tco))</strong></p>
</blockquote>
<p>原组合逻辑的延时为<strong>[max(T1,T3)+T2]</strong>很好理解，但是流水线展开后的延时为什么是<strong>max(max(T1,T3)+Tco,(T2+Tco))</strong>就不那么显然了，犹其对于初学者而言。<br>关于这一点我个人是从同步时序分析的角度进行理解的。</p>
<p>注意，流水线在初始化的时候会有一个首次延时，见下图：<br>将始下步骤<br><img src="/uploads/2015/06/pipel3.png" alt=""><br>展开为流水线执行<br><img src="/uploads/2015/06/pipel4.png" alt=""><br>从图中可以看到，流水线的各级最初是没有数据的，只有当个流水线的各级充满数据时，流水线才起作用，我们将这个填充满流水线的时间，或者说从第一个数据输入到第一个结果输出的延时叫<strong>首次延时</strong>。一般有N级中间寄存器就有N-1个CLK的延时。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/FPGA/">FPGA</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e7-bd-91-e7-ab-99-e6-95-b0-e6-8d-ae-e6-89-93-e5-8c-85-e3-80-81-e5-8e-8b-e7-bc-a9-e5-a4-87-e4-bb-bd" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/29/e7-bd-91-e7-ab-99-e6-95-b0-e6-8d-ae-e6-89-93-e5-8c-85-e3-80-81-e5-8e-8b-e7-bc-a9-e5-a4-87-e4-bb-bd/" class="article-date">
      <time datetime="2015-06-29T14:04:11.000Z" itemprop="datePublished">2015-06-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/29/e7-bd-91-e7-ab-99-e6-95-b0-e6-8d-ae-e6-89-93-e5-8c-85-e3-80-81-e5-8e-8b-e7-bc-a9-e5-a4-87-e4-bb-bd/">网站数据打包、压缩备份</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<p><a href="/uploads/2015/06/lnmp.png"><img src="/uploads/2015/06/lnmp-300x200.png" alt="lnmp"></a></p>
<p>用以下命令打包，-cvf表示打包， -p表示保留文件权限， dataWeb.tar是文件名，.tar标示该文件只是用TAR打包并未压缩， mnt是要打包的目录。</p>
<pre><code>tar -cvpf dataWeb.tar mnt
`&lt;/pre&gt;

然后7z打包

a表示添加文件到压缩包， -r表示递归处理文件夹，默认为7z格式，dataWeb.7z为自己输入的7z文件名，dataWeb.tar为要被压缩的文件。

&lt;pre&gt;`7za a -r dataWeb.tar.7z dataWeb.tar 
`&lt;/pre&gt;

安装7Z工具

&lt;pre&gt;`yum install p7zip
`&lt;/pre&gt;

或者

&lt;pre&gt;`apt-get install p7zip
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/网站建设/">网站建设</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e4-b8-80-e4-b8-aa-e7-ae-80-e5-8d-95-e7-9a-84-e4-bd-8e-e6-88-90-e6-9c-ac5v3-3v-e7-94-b5-e5-b9-b3-e5-8f-8c-e5-90-91-e8-bd-ac-e6-8d-a2-e7-94-b5-e8-b7-af" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/28/e4-b8-80-e4-b8-aa-e7-ae-80-e5-8d-95-e7-9a-84-e4-bd-8e-e6-88-90-e6-9c-ac5v3-3v-e7-94-b5-e5-b9-b3-e5-8f-8c-e5-90-91-e8-bd-ac-e6-8d-a2-e7-94-b5-e8-b7-af/" class="article-date">
      <time datetime="2015-06-28T12:26:18.000Z" itemprop="datePublished">2015-06-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/28/e4-b8-80-e4-b8-aa-e7-ae-80-e5-8d-95-e7-9a-84-e4-bd-8e-e6-88-90-e6-9c-ac5v3-3v-e7-94-b5-e5-b9-b3-e5-8f-8c-e5-90-91-e8-bd-ac-e6-8d-a2-e7-94-b5-e8-b7-af/">一个简单的低成本5V~3.3V电平双向转换电路</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<p>这是一个可用于RS232的电平转换电路，速率在9600能稳定工作，其它未测试。<br><img src="/uploads/2015/06/2015-06-28_164937.png" alt=""></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/硬件设计/">硬件设计</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e6-97-a0-e5-90-8d-e7-9a-84-e4-bb-a3-e7-a0-81" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/25/e6-97-a0-e5-90-8d-e7-9a-84-e4-bb-a3-e7-a0-81/" class="article-date">
      <time datetime="2015-06-25T08:38:04.000Z" itemprop="datePublished">2015-06-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/25/e6-97-a0-e5-90-8d-e7-9a-84-e4-bb-a3-e7-a0-81/">无名的代码</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><a href="/uploads/2015/06/code.jpg"><img src="/uploads/2015/06/code-300x168.jpg" alt="code"></a></p>
<p>一行行无名的代码，用青春浇筑，用心神镌刻</p>
<p>许不久，这行行无名代码，就如不远工地上的旧楼，轰然崩塌</p>
<p>那堆堆废墟断瓦，</p>
<p>是烈日下你的汗水，</p>
<p>是一号地铁线上万科的诅咒——“别让深圳留住了青春，却留不住你！”</p>
<p>……</p>
<p>这行行行无名的代码，是今夜你的无眠，是明朝别人的漫骂</p>
<p>乔布斯愿用苹果的一生，换与苏格拉底的一个下午茶</p>
<p>而我仍将用那不长不短的年华，丈量这累累无名的代码</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/闲言碎语/">闲言碎语</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e6-97-b6-e9-92-9f-e6-8a-96-e5-8a-a8-ef-bc-88clock-jitter-ef-bc-89-e5-92-8c-e6-97-b6-e9-92-9f-e5-81-8f-e7-a7-bb-ef-bc-88clock-skew-ef-bc-89-e7-9a-84-e5-ae-9a-e4-b9-89-ef-bc-8c-e5-8f-8a-e5-85-b6" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/25/e6-97-b6-e9-92-9f-e6-8a-96-e5-8a-a8-ef-bc-88clock-jitter-ef-bc-89-e5-92-8c-e6-97-b6-e9-92-9f-e5-81-8f-e7-a7-bb-ef-bc-88clock-skew-ef-bc-89-e7-9a-84-e5-ae-9a-e4-b9-89-ef-bc-8c-e5-8f-8a-e5-85-b6/" class="article-date">
      <time datetime="2015-06-25T08:38:04.000Z" itemprop="datePublished">2015-06-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/25/e6-97-b6-e9-92-9f-e6-8a-96-e5-8a-a8-ef-bc-88clock-jitter-ef-bc-89-e5-92-8c-e6-97-b6-e9-92-9f-e5-81-8f-e7-a7-bb-ef-bc-88clock-skew-ef-bc-89-e7-9a-84-e5-ae-9a-e4-b9-89-ef-bc-8c-e5-8f-8a-e5-85-b6/">时钟抖动（*clock jitter*）和时钟偏移（*clock skew*）的定义，及其对时序的影响</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<p>参考链接：<br><a href="http://en.wikipedia.org/wiki/Clock_skew#Confusion_between_clock_skew_and_clock_jitter" target="_blank" rel="external">http://en.wikipedia.org/wiki/Clock_skew#Confusion_between_clock_skew_and_clock_jitter</a><br><a href="http://www.eetop.cn/blog/html/14/56214-26659.html" target="_blank" rel="external">http://www.eetop.cn/blog/html/14/56214-26659.html</a><br><a href="http://electronicsgurukulam.blogspot.hk/2012/11/clock-skew-and-jitter-in-digital.html" target="_blank" rel="external">http://electronicsgurukulam.blogspot.hk/2012/11/clock-skew-and-jitter-in-digital.html</a><br><a href="http://www.wildpackets.com/resources/compendium/wireless_lan/signal_characteristics" target="_blank" rel="external">http://www.wildpackets.com/resources/compendium/wireless_lan/signal_characteristics</a></p>
<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><ul>
<li><strong>时钟抖动（<em>clock jitter</em>）</strong>——是指多个时钟周期之间存在的差值（如上图），这个误差是在时钟发生器内部产生的，和晶振或者PLL内部电路有关，布线对其没有影响。除此之外，还有一种由于周期内信号的占空比发生变化而引起的抖 动，称之为半周期抖动。总的来说，jitter可以认为在时钟信号本身在传输过程中的一些偶然和不定的变化之总和。<br><img src="/uploads/2015/06/clk_jitter.bmp" alt=""></li>
<li><strong>时钟偏移（<em>clock skew</em>）</strong>——是指同样的时钟产生的多个子时钟信号之间的延时差异(如上图)。它表现的形式是多种多样的，既包含了时钟驱动器的多个输出之间的偏移，也包含了由于PCB走线误差造成的接收端和驱动端时钟信号之间的偏移。<br>信号完整性对时序的影响，比如串扰会影响微带线传播延迟；反射会造成数据信号在逻辑门限附近波动，从而影响最大/最 小飞行时间；时钟走线的干扰会造成一定的时钟偏移。有些误差或不确定因素是仿真中无法预见的，设计者只有通过周密的思考和实际经验的积累来逐步提高系统设计的水平。<br><img src="/uploads/2015/06/clk_skew.bmp" alt=""><blockquote>
<p>Clock Skew: The spatial variation in arrival time of a clock transition on an integrated circuit;<br>Clock jitter: The temporal vatiation of the clock period at a given point on the chip;<br><strong>简言之，skew通常是时钟相位上的不确定，而jitter是指时钟频率上的不确定（uncertainty)。由于时钟源到达不同寄存器所经历路径的驱动和负载的不同，时钟边沿的位置有所差异，因此就带来了<br>skew。而由于晶振本身稳定性，电源以及温度变化等原因造成了时钟频率的变化，就是jitter。</strong></p>
</blockquote>
</li>
</ul>
<h3 id="对时序的影响"><a href="#对时序的影响" class="headerlink" title="对时序的影响"></a>对时序的影响</h3><p>skew和jitter对电路的影响可以用一个简单的时间模型来解释。假设下图中t(c-q)代表寄存器的最大输出延迟，<br>t(c-q, cd)表示最大输出延时；t(su)和t(hold)分别代表寄存器的setup, hold time（暂不考虑p.v.t）差异；t(logic)<br>和t(logic, cd)分别表示最大的组合逻辑传输延迟和最小组合逻辑传输延迟；<br><img src="/uploads/2015/06/clk_skew_jitter_timing.bmp" alt=""><br>在不考虑skew和jitter的情况下，及t(clk1)和t(clk2)同频同相时，时钟周期T和t(hold)需要满足<br>                  T &gt; t(c-q) + t(logic) + t(su)<br>                  t(hold) &lt; t(c-q, cd) + t(logic, cd)<br>这样才能保证电路的功能正常，且避免竞争的发生。如果考虑CLK2比CLK1晚t1的相位，及skew=t1。则<br>                  t(hold) &lt; t(c-q, cd) + t(logic, cd) - t1<br>这意味着电路由更大的倾向发生hold time violation；如果考虑CLK1比CLK2晚t2的相位，及skew=-t2，则<br>                  T &gt; t(c-q) + t(logic) + t(su) + t2<br>这意味着电路的性能下降了，但由于R2的hold time始终满足，所以不会有竞争的麻烦存在。clock jitter始终是对性能造成负面的影响，一般设计中都需要专门留取10%左右的margin来保证。<br>                  clock uncertainty = clock jitter + clock skew<br>jitter 是 由时钟源产生的抖动。skew是时钟树不平衡引起的到达两个寄存器的延迟差。在cts之后,skew由工具算出，因此sta的时候clock uncertainty 可以设一个比较小的值。另外做hold check的时候因为检查的是同一个时钟沿，因此没有jitter只有skew.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/FPGA/">FPGA</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e8-87-b4-e7-83-9f-e9-ac-bc-e4-bb-ac" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/25/e8-87-b4-e7-83-9f-e9-ac-bc-e4-bb-ac/" class="article-date">
      <time datetime="2015-06-25T08:38:04.000Z" itemprop="datePublished">2015-06-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/25/e8-87-b4-e7-83-9f-e9-ac-bc-e4-bb-ac/">致烟鬼们</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<p><a href="/uploads/2015/06/smoking.jpg"><img src="/uploads/2015/06/smoking-200x300.jpg" alt="smoking"></a></p>
<p>早晨我还在挣扎不想起床，你已坐在床下神仙般享受，呛得我直咳嗽</p>
<p>夜里我已入眠，你仍在吞云吐雾，我只能拿被子当口罩</p>
<p>烟鬼们，衣服被子上都是你们烟熏的怪味</p>
<p>烟鬼们，卫生间办公室里都是你们的遗臭</p>
<p>我佩服你们的执着，佩服你们的勤奋，却鄙视你们的无节制</p>
<p>能同时将水与火操缀得当的人啊，你一边淋浴还不忘玩火</p>
<p>烟盒上“吸烟有害”的提示语，它就是一句笑话</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/闲言碎语/">闲言碎语</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-wordpress-e9-98-bf-e9-87-8c-e4-ba-91ecs-e4-b8-bb-e6-9c-ba-e5-ae-89-e8-a3-85-e6-ad-a5-e9-aa-a4" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/25/wordpress-e9-98-bf-e9-87-8c-e4-ba-91ecs-e4-b8-bb-e6-9c-ba-e5-ae-89-e8-a3-85-e6-ad-a5-e9-aa-a4/" class="article-date">
      <time datetime="2015-06-25T08:38:04.000Z" itemprop="datePublished">2015-06-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/25/wordpress-e9-98-bf-e9-87-8c-e4-ba-91ecs-e4-b8-bb-e6-9c-ba-e5-ae-89-e8-a3-85-e6-ad-a5-e9-aa-a4/">wordpress 阿里云ECS主机安装步骤</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<p><a href="/uploads/2015/06/lnmp.png"><img src="/uploads/2015/06/lnmp-300x200.png" alt="lnmp"></a></p>
<ol>
<li>添加数据盘分区信息 echo ‘/dev/xvdb1  /mnt ext3    defaults    0  0’ &gt;&gt; /etc/fstab（若没有分区则需先分区再格式化，参见<a href="http://help.aliyun.com/knowledge_detail.htm?knowledgeId=5974154" target="_blank" rel="external">Linux 系统挂载数据盘</a>的1、2、3、4步）。</li>
<li>加载数据盘 mount -a。</li>
<li>查看加载是否成功，df -h， 默认加载到/mnt。</li>
<li>安装lnmp。</li>
<li>重启mysql,  service mysql restart。</li>
<li><strong>如若mysql重启有误</strong>，则按 《解决MYSQL重启错误提示 The server quit without updating PID file(…)》 一文进行修复。</li>
<li><strong>更改MYSQL目录</strong>。</li>
</ol>
<blockquote>
<p>1.停掉mysql服务器：</p>
<p>  /etc/init.d/mysql stop</p>
<p>  2.下面新目录以/data/mysql/ 为例，然后复制旧目录的数据库到新目录：</p>
<p>  cp -R /usr/local/mysql/var/* /data/mysql/</p>
<p>  3.将新目录赋权为mysql用户组：</p>
<p>  chown mysql:mysql -R /data/mysql/</p>
<p>  4.再修改配置文件：vi打开etc目录下的my.cnf</p>
<p>  查找[mysqld] ，在下面加入datadir = /data/mysql/ 保存</p>
<p>  5.启动mysql：</p>
<p>  /etc/init.d/mysql start</p>
</blockquote>
<ol>
<li>添加虚拟主机。</li>
<li><strong>更改网站数据目录</strong>。</li>
</ol>
<blockquote>
<p>vi /usr/local/nginx/conf/vhost/域名.conf 修改其中的 root 项</p>
<p>  然后执行：cp -a 老目录 新目录，chown www:www -R 新目录</p>
</blockquote>
<ol>
<li>修改nginx配置，修改/usr/local/nginx/conf/nginx.conf，注释掉nginx中的默认server信息。</li>
<li>安装wordpress。</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/网站建设/">网站建设</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e8-a7-a3-e5-86-b3mysql-e9-87-8d-e5-90-af-e9-94-99-e8-af-af-e6-8f-90-e7-a4-ba-the-server-quit-without-updating-pid-file" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/25/e8-a7-a3-e5-86-b3mysql-e9-87-8d-e5-90-af-e9-94-99-e8-af-af-e6-8f-90-e7-a4-ba-the-server-quit-without-updating-pid-file/" class="article-date">
      <time datetime="2015-06-25T08:38:04.000Z" itemprop="datePublished">2015-06-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/25/e8-a7-a3-e5-86-b3mysql-e9-87-8d-e5-90-af-e9-94-99-e8-af-af-e6-8f-90-e7-a4-ba-the-server-quit-without-updating-pid-file/">解决MYSQL重启错误提示 The server quit without updating PID file(…)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<p><a href="/uploads/2015/06/lnmp.png"><img src="/uploads/2015/06/lnmp-300x200.png" alt="lnmp"></a></p>
<ul>
<li>首先改etc目录下my.cnf的max_connections为100。（执行这一步行已能重启，但仍有错误“ERROR! MySQL server PID file could not be found!”）</li>
<li>输入chmod -R 755 /usr/local/mysql/data（执行这一步后没有任何错误提示）</li>
<li>仍然不行，则试参考以下手段：</li>
</ul>
<blockquote>
<p>1.可能是/usr/local/mysql/data/rekfan.pid文件没有写的权限<br>  解决方法 ：给予权限，执行 “chown -R mysql:mysql /var/data” “chmod -R 755 /usr/local/mysql/data”  然后重新启动mysqld！</p>
<p>  2.可能进程里已经存在mysql进程<br>  解决方法：用命令“ps -ef|grep mysqld”查看是否有mysqld进程，如果有使用“kill -9  进程号”杀死，然后重新启动mysqld！</p>
<p>  3.可能是第二次在机器上安装mysql，有残余数据影响了服务的启动。<br>  解决方法：去mysql的数据目录/data看看，如果存在mysql-bin.index，就赶快把它删除掉吧，它就是罪魁祸首了。本人就是使用第三条方法解决的 ！</p>
<p>  4.mysql在启动时没有指定配置文件时会使用etc目录下my.cnf配置文件，请打开这个文件查看在[mysqld]节下有没有指定数据目录(datadir)。<br>  解决方法：请在[mysqld]下设置这一行：datadir = /usr/local/mysql/data</p>
<p>  5.skip-federated字段问题<br>  解决方法：检查一下etc目录下my.cnf文件中有没有没被注释掉的skip-federated字段，如果有就立即注释掉吧。</p>
<p>  6.错误日志目录不存在<br>  解决方法：使用“chown” “chmod”命令赋予mysql所有者及权限</p>
<p>  7.selinux惹的祸，如果是centos系统，默认会开启selinux<br>  解决方法：关闭它，打开/etc/selinux/config，把SELINUX=enforcing改为SELINUX=disabled后存盘退出重启机器试试。</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/网站建设/">网站建设</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/9/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/11/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 shawge
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>